<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <title>1124</title>
  <script type="text/javascript">
    /**
     * @param {number[]} hours
     * @return {number}
     */
    var longestWPI = function (hours) {
      let temp = new Map();
      let result = 0;
      let sum = 0;
      for (let i = 0; i < hours.length; ++i) {
        debugger;
        sum += hours[i] > 8 ? 1 : -1;
        if (sum > 0) {
          result = i + 1;
        } else {
          if (!temp.has(sum)) {
            temp.set(sum, i);
          }
          if (temp.has(sum - 1)) {
            result = Math.max(result, i - temp.get(sum - 1));
          }
        }
      }
      return result;
    };

    // let hours = [9,9,6,0,6,6,9];
    let hours = [6,9,9,6,9,6,6];
    console.log(longestWPI(hours));
  </script>
</head>

</html>